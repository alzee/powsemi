# 力芯半导体网站后台操作指南

## 注意
* 由于阿里云虚拟主机限制，上传的文件名请勿使用非英文字符

## 概念
* **内容:** 网站有 3 种内容类型，文章、页面 和 产品
    1. 文章 用来发布 新闻动态、 厂房设备 及轮播图
    1. 页面 用来创建页面，如 关于力芯、联系我们
    1. 产品 用来新增产品
* **标签:** 发布文章时选择对应的标签用以分类
* **类别:** 产品的类别
* **中英文:** 有两种方式创建双语内容（推荐2）
    1. 创建时分别选择语言，为中英文各创建一篇文章。此方式中英文是各自独立的两篇文章
    1. 创建中文内容，然后为其添加英文翻译。此方式中英文是同一篇文章的两个版本
* **翻译:** 编辑内容、导航、标签、类别时，上侧有 翻译 按钮，可为其创建对应的英文版本

# 日常操作
#### 常用功能均已放入后台顶部 快捷方式 中
* **内容管理:** 显示所有 3 种类型的内容
* **创建内容:** 创建内容
* **主导航:** 新增、删除及编辑主导航条的链接、文字及排序
* **友情链接:** 新增、删除及编辑友情链接的链接、文字及排序
* **标签:** 新增、删除及编辑可选标签的名称及排序
* **类别:** 新增、删除及编辑产品类别的名称、排序及分级
* **关于力芯:** 编辑 关于力芯 页面的内容
* **联系我们-页脚:** 编辑页脚的联系信息
* **联系我们-产品中心:** 编辑产品中心左边栏的联系信息
* **图像样式:** 为各区域的图片添加去色、裁减、缩放等效果
* **网站名称:** 编辑网站名称、邮箱等基本信息
* **关键词和描述:** 编辑网站各个页面的 meta 信息
* **清空缓存:** 用于在修改 html, css, js 等静态资源后重建缓存
* **发布 新闻动态:** 快捷方式 > 创建内容 > 文章 > 选择标签 新闻动态
* **发布 厂房设备:** 快捷方式 > 创建内容 > 文章 > 选择标签 厂房设备
* **发布 首页轮播图:** 快捷方式 > 创建内容 > 文章 > 选择标签 "轮播图1" ，上传图片。推荐尺寸 1920x550
* **发布 首页关于力芯区域轮播图:** 快捷方式 > 创建内容 > 文章 > 选择标签 "轮播图-关于力芯" ，上传图片和图片2。推荐尺寸 1200x540 和 408x540

# 其它
* 编辑 图像样式: 如将首页轮播图高度修改为 550，快捷方式 > 图像样式 > 轮播图1 编辑
* 其它修改须直接编辑模板文件
    * **关于力芯 背景图片:** `themes/lixin/templates/page--node--1094.html.twig`
    * **产品中心 背景图片:** `themes/lixin/templates/page--products.html.twig`
    * **厂房设备 背景图片:** `themes/lixin/templates/page--equipments.html.twig`
    * **新闻动态 背景图片:** `themes/lixin/templates/page--news.html.twig`
    * **联系我们 背景图片:** `themes/lixin/templates/page--node--1097.html.twig`
    * **新闻动态/厂房设备 文章页背景图片:** `themes/lixin/templates/page--node.html.twig`
    * **浮动框:** `themes/lixin/templates/block--float.html.twig`

# 目录结构
* `core/`: 核心文件夹
* `sites/`: 上传文件、配置文件、缓存文件
* `modules/`: 插件
* `themes/`: 主题
* `themes/lixin/`: 力芯网站主题
* `vendor/`: php 依赖

# 备份
* 快捷方式 > 清空缓存 > 清空所有缓存
* 在虚拟主机控制面板文件管理器中压缩站点根目录
* 在数据库页面导出数据库

# 部署
* 所用 Drupal 版本 8.9.10
* 最低要求: Apache 2.4.7/Nginx 1.8.x, MySQL 5.5.3/MariaDB 5.5.20, PHP 7.2
* 解析域名
* 上传压缩包并解压
* 创建数据库并导入。数据库连接信息请查看 `sites/default/setttings.php` 中的 `$databases['default']['default']`
* 如更换或新增域名，请将其写入 `sites/default/setttings.php` 中的 `$settings['trusted_host_patterns']`
